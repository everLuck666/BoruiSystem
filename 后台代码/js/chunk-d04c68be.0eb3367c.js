(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d04c68be"],{1276:function(t,e,a){"use strict";var n=a("d784"),i=a("44e7"),r=a("825a"),s=a("1d80"),o=a("4840"),c=a("8aa5"),l=a("50c4"),u=a("14c3"),d=a("9263"),f=a("d039"),h=[].push,g=Math.min,p=4294967295,v=!f((function(){return!RegExp(p,"y")}));n("split",2,(function(t,e,a){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var n=String(s(this)),r=void 0===a?p:a>>>0;if(0===r)return[];if(void 0===t)return[n];if(!i(t))return e.call(n,t,r);var o,c,l,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,v=new RegExp(t.source,f+"g");while(o=d.call(v,n)){if(c=v.lastIndex,c>g&&(u.push(n.slice(g,o.index)),o.length>1&&o.index<n.length&&h.apply(u,o.slice(1)),l=o[0].length,g=c,u.length>=r))break;v.lastIndex===o.index&&v.lastIndex++}return g===n.length?!l&&v.test("")||u.push(""):u.push(n.slice(g)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var i=s(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,i,a):n.call(String(i),e,a)},function(t,i){var s=a(n,t,this,i,n!==e);if(s.done)return s.value;var d=r(t),f=String(this),h=o(d,RegExp),m=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"y":"g"),b=new h(v?d:"^(?:"+d.source+")",y),x=void 0===i?p:i>>>0;if(0===x)return[];if(0===f.length)return null===u(b,f)?[f]:[];var _=0,w=0,N=[];while(w<f.length){b.lastIndex=v?w:0;var C,I=u(b,v?f:f.slice(w));if(null===I||(C=g(l(b.lastIndex+(v?0:w)),f.length))===_)w=c(f,w,m);else{if(N.push(f.slice(_,w)),N.length===x)return N;for(var A=1;A<=I.length-1;A++)if(N.push(I[A]),N.length===x)return N;w=_=C}}return N.push(f.slice(_)),N}]}),!v)},"13d5":function(t,e,a){"use strict";var n=a("23e7"),i=a("d58f").left,r=a("a640"),s=a("ae40"),o=a("2d00"),c=a("605d"),l=r("reduce"),u=s("reduce",{1:0}),d=!c&&o>79&&o<83;n({target:"Array",proto:!0,forced:!l||!u||d},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},5321:function(t,e,a){"use strict";a("5427")},5427:function(t,e,a){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("1d80"),i=a("5899"),r="["+i+"]",s=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),c=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},a15b:function(t,e,a){"use strict";var n=a("23e7"),i=a("44ad"),r=a("fc6a"),s=a("a640"),o=[].join,c=i!=Object,l=s("join",",");n({target:"Array",proto:!0,forced:c||!l},{join:function(t){return o.call(r(this),void 0===t?",":t)}})},a623:function(t,e,a){"use strict";var n=a("23e7"),i=a("b727").every,r=a("a640"),s=a("ae40"),o=r("every"),c=s("every");n({target:"Array",proto:!0,forced:!o||!c},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},a9e3:function(t,e,a){"use strict";var n=a("83ab"),i=a("da84"),r=a("94ca"),s=a("6eeb"),o=a("5135"),c=a("c6b6"),l=a("7156"),u=a("c04e"),d=a("d039"),f=a("7c73"),h=a("241c").f,g=a("06cf").f,p=a("9bf2").f,v=a("58a8").trim,m="Number",y=i[m],b=y.prototype,x=c(f(b))==m,_=function(t){var e,a,n,i,r,s,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=v(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(r=l.slice(2),s=r.length,o=0;o<s;o++)if(c=r.charCodeAt(o),c<48||c>i)return NaN;return parseInt(r,n)}return+l};if(r(m,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,N=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof N&&(x?d((function(){b.valueOf.call(a)})):c(a)!=m)?l(new y(_(e)),a,N):_(e)},C=n?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),I=0;C.length>I;I++)o(y,w=C[I])&&!o(N,w)&&p(N,w,g(y,w));N.prototype=b,b.constructor=N,s(i,m,N)}},d2b3:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"statistics"}},[a("div",{staticClass:"top"},[a("div",{staticClass:"btn"},[t._v("今日访客："+t._s(t.countData.todayVisitor)+"人")]),a("div",{staticClass:"btn"},[t._v("累计访客："+t._s(t.countData.sumVisitor)+"人")]),a("div",{staticClass:"btn"},[t._v("今日收入："+t._s(t.countData.todayGet)+"元")]),a("div",{staticClass:"btn"},[t._v("累计收入："+t._s(t.countData.sumGet)+"元")])]),a("div",{attrs:{id:"pic_visitor"}}),a("div",{attrs:{id:"pic_income"}}),a("div",{staticClass:"line"}),a("div",{staticClass:"order"},[a("div",{staticClass:"title"},[t._v("订单统计")]),a("div",{staticClass:"orderData"},[a("div",{staticClass:"btn left"},[t._v("待处理订单："+t._s(t.order.todo))]),a("div",{staticClass:"btn"},[t._v("已完成订单："+t._s(t.order.done))])])]),a("div",{staticClass:"line"}),a("div",{staticClass:"sales"},[a("div",{staticClass:"title"},[t._v("销量统计")]),a("el-table",{staticClass:"salesTable",attrs:{data:t.salesData,"show-summary":"","summary-method":t.getSummaries}},[a("el-table-column",{attrs:{prop:"productName",label:"商品名称","mid-width":"20%",align:"center"}}),a("el-table-column",{attrs:{prop:"productPrice",label:"商品单价","mid-width":"20%",align:"center"}}),a("el-table-column",{attrs:{prop:"today",label:"今日售出","mid-width":"20%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.today)+"件 ")]}}])}),a("el-table-column",{attrs:{prop:"month",label:"本月售出数量","mid-width":"20%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.month)+"件 ")]}}])}),a("el-table-column",{attrs:{prop:"total",label:"累计售出","mid-width":"20%",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.total)+"件 ")]}}])})],1)],1)])},i=[],r=(a("a623"),a("4160"),a("a15b"),a("d81d"),a("13d5"),a("a9e3"),a("ac1f"),a("1276"),a("159b"),a("313e")),s={name:"Statistics",data:function(){return{countData:{todayVisitor:"",sumVisitor:"",todayGet:"",sumGet:""},salesData:[],order:{todo:"",done:""},x1:[],y1:[],x2:[],y2:[]}},methods:{getData:function(){this.getTodayPeople(),this.getAllPeople(),this.getTodayCount(),this.getAllCount(),this.getData1(),this.getData2(),this.getTodoOrder(),this.getDoneOrder(),this.getSalesTable()},getTodayPeople:function(){var t=this;this.$axios.get("/count/today").then((function(e){200===e.status?t.countData.todayVisitor=e.data:t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getAllPeople:function(){var t=this;this.$axios.get("/count/all").then((function(e){200===e.status?t.countData.sumVisitor=e.data:t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getTodayCount:function(){var t=this;this.$axios.get("/orders/income").then((function(e){200===e.status?t.countData.todayGet=e.data/100:t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getAllCount:function(){var t=this;this.$axios.get("/orders/incomeMonth").then((function(e){200===e.status?t.countData.sumGet=e.data/100:t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getData1:function(){var t=this;this.$axios.get("/count/allCount").then((function(e){if(200===e.status){var a=e.data,n=a.map((function(t){return t.date})).join(",");t.x1=n.split(",");var i=a.map((function(t){return t.count})).join(",");t.y1=i.split(",").map(Number);var r=[{data:[],type:"line",label:{show:!0}}];r[0].data=t.y1,t.drawLine1(r,t.x1)}else t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getData2:function(){var t=this;this.$axios.get("/orders/all").then((function(e){if(200===e.status){var a=e.data,n=a.map((function(t){return t.date})).join(",");t.x2=n.split(",");var i=a.map((function(t){return t.income})).join(",");t.y2=i.split(",").map(Number);for(var r=0;r<t.y2.length;r++)t.y2[r]=t.y2[r]/100;var s=[{data:[],type:"line",label:{show:!0}}];s[0].data=t.y2,t.drawLine2(s,t.x2)}else t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},drawLine1:function(t,e){var a=r.init(document.getElementById("pic_visitor"));a.setOption({tooltip:{},xAxis:{name:"日期",data:e,type:"category",axisLine:{lineStyle:{color:"#BFBFBF"}}},yAxis:{name:"访客数量",type:"value",axisLine:{lineStyle:{color:"#BFBFBF"}}},series:t})},drawLine2:function(t,e){var a=r.init(document.getElementById("pic_income"));a.setOption({xAxis:{name:"日期",data:e,type:"category",axisLine:{lineStyle:{color:"#BFBFBF"}}},yAxis:{name:"收入",type:"value",axisLine:{lineStyle:{color:"#BFBFBF"}}},series:t})},getTodoOrder:function(){var t=this;this.$axios.get("/orders/waiting").then((function(e){200===e.status?t.order.todo=e.data:t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getDoneOrder:function(){var t=this;this.$axios.get("/orders/finished").then((function(e){200===e.status?t.order.done=e.data:t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getSalesTable:function(){var t=this;this.$axios.get("/orders/sales").then((function(e){if(200===e.status){t.salesData=e.data;for(var a=0;a<t.salesData.length;a++)t.salesData[a].productPrice=t.salesData[a].productPrice/100}else t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getSummaries:function(t){var e=t.columns,a=t.data,n=[];return e.forEach((function(t,e){if(0!==e)if(1!==e){var i=a.map((function(e){return Number(e[t.property])}));i.every((function(t){return isNaN(t)}))?n[e]="N/A":(n[e]=i.reduce((function(t,e){var a=Number(e);return isNaN(a)?t:t+e}),0),n[e]+="件")}else n[e]="合计";else n[e]=""})),n}},beforeMount:function(){this.getData()}},o=s,c=(a("5321"),a("2877")),l=Object(c["a"])(o,n,i,!1,null,"c1191ba8",null);e["default"]=l.exports},d58f:function(t,e,a){var n=a("1c0b"),i=a("7b0b"),r=a("44ad"),s=a("50c4"),o=function(t){return function(e,a,o,c){n(a);var l=i(e),u=r(l),d=s(l.length),f=t?d-1:0,h=t?-1:1;if(o<2)while(1){if(f in u){c=u[f],f+=h;break}if(f+=h,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=h)f in u&&(c=a(c,u[f],f,l));return c}};t.exports={left:o(!1),right:o(!0)}},d81d:function(t,e,a){"use strict";var n=a("23e7"),i=a("b727").map,r=a("1dde"),s=a("ae40"),o=r("map"),c=s("map");n({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-d04c68be.0eb3367c.js.map