{"version":3,"sources":["webpack:///./src/views/commodity/commodity.vue?a8bb","webpack:///src/views/commodity/commodity.vue","webpack:///./src/views/commodity/commodity.vue?f411","webpack:///./src/views/commodity/commodity.vue","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/commodity/commodity.vue?0855"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","on","$event","tableShow","_e","tableData","scopedSlots","_u","key","fn","scope","staticStyle","row","imageUrl","_s","status","judgeStatus","judgeDelete","ref","goodForm","model","value","callback","$$v","$set","expression","beforeUpload","url","addGood","dialogVisible1","slot","changeStatus","dialogVisible2","dialogVisible3","deleteGood","staticRenderFns","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-496d89d6.ab60aa56.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"commodity\"}},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"商品管理\")]),(_vm.tableShow)?_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.tableShow=false}}},[_vm._v(\"添加商品\")]):_vm._e()]),_c('div',{staticClass:\"line\"}),(_vm.tableShow)?_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"productName\",\"label\":\"商品名称\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"describe\",\"label\":\"商品描述\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"productPrice\",\"label\":\"商品价格\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"商品图片\",\"align\":\"center\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"width\":\"200px\",\"height\":\"150px\"},attrs:{\"src\":scope.row.imageUrl,\"alt\":\"\"}})]}}],null,false,776240359)}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"商品状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"color\":\"#2DBD66\"}},[_vm._v(_vm._s(scope.row.status === \"1\"?'上架':'下架'))])]}}],null,false,1856673527)}),_c('el-table-column',{attrs:{\"prop\":\"operation\",\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"color\":\"red\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.judgeStatus(scope.row)}}},[_vm._v(_vm._s(scope.row.status === \"1\"?'下架':'上架'))]),_c('el-button',{staticStyle:{\"color\":\"red\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.judgeDelete(scope.row)}}},[_vm._v(\"删除\")])]}}],null,false,1170439084)})],1):_c('el-form',{ref:\"form\",staticClass:\"goodForm\",attrs:{\"model\":_vm.goodForm,\"label-width\":\"85px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\"}},[_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"请输入商品名称\"},model:{value:(_vm.goodForm.productName),callback:function ($$v) {_vm.$set(_vm.goodForm, \"productName\", $$v)},expression:\"goodForm.productName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品描述\"}},[_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"请输入商品描述\"},model:{value:(_vm.goodForm.describe),callback:function ($$v) {_vm.$set(_vm.goodForm, \"describe\", $$v)},expression:\"goodForm.describe\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品价格\"}},[_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"请输入商品价格\"},model:{value:(_vm.goodForm.productPrice),callback:function ($$v) {_vm.$set(_vm.goodForm, \"productPrice\", $$v)},expression:\"goodForm.productPrice\"}})],1),_c('el-form-item',{staticStyle:{\"margin-top\":\"40px\"},attrs:{\"label\":\"商品图片\"}},[_c('div',{staticClass:\"upload\"},[_c('el-upload',{ref:\"file\",staticClass:\"upload-demo\",attrs:{\"action\":\"aaa\",\"name\":\"file\",\"show-file-list\":false,\"before-upload\":_vm.beforeUpload}},[(_vm.url)?_c('img',{staticStyle:{\"width\":\"200px\",\"height\":\"200px\"},attrs:{\"src\":_vm.url}}):_c('i',{staticClass:\"el-icon-plus\",staticStyle:{\"width\":\"100px\",\"height\":\"100px\",\"margin\":\"80px 0 0 50px\"}})])],1)]),_c('el-form-item',{attrs:{\"label\":\"商品状态\"}},[_c('el-switch',{staticClass:\"switch\",attrs:{\"active-color\":\"#15BEAC\",\"active-text\":\"上架\",\"inactive-text\":\"下架\",\"active-value\":\"1\",\"inactive-value\":\"0\"},model:{value:(_vm.goodForm.status),callback:function ($$v) {_vm.$set(_vm.goodForm, \"status\", $$v)},expression:\"goodForm.status\"}})],1),_c('el-form-item',[_c('div',{staticClass:\"btnBox\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.tableShow=true}}},[_vm._v(\"取消\")]),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.addGood()}}},[_vm._v(\"确认\")])])])],1),_c('el-dialog',{staticClass:\"dialog\",attrs:{\"title\":\"上架确认\",\"visible\":_vm.dialogVisible1,\"width\":\"25%\",\"lock-scroll\":false,\"top\":\"30vh\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible1=$event}}},[_c('div',{staticClass:\"tips\"},[_vm._v(\" 上架后用户将可以正常购买本商品，是否确认上架本商品？ \")]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.dialogVisible1 = false}}},[_vm._v(\"取消\")]),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.changeStatus()}}},[_vm._v(\"确认\")])])]),_c('el-dialog',{staticClass:\"dialog\",attrs:{\"title\":\"下架确认\",\"visible\":_vm.dialogVisible2,\"width\":\"25%\",\"lock-scroll\":false,\"top\":\"30vh\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible2=$event}}},[_c('div',{staticClass:\"tips\"},[_vm._v(\" 下架后用户将不能购买本商品，是否确认下架本商品？ \")]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.dialogVisible2 = false}}},[_vm._v(\"取消\")]),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.changeStatus()}}},[_vm._v(\"确认\")])])]),_c('el-dialog',{staticClass:\"dialog\",attrs:{\"title\":\"确认删除\",\"visible\":_vm.dialogVisible3,\"width\":\"25%\",\"lock-scroll\":false,\"top\":\"30vh\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible3=$event}}},[_c('div',{staticClass:\"tips\"},[_vm._v(\" 删除后将无法恢复，是否确认删除本商品？ \")]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.dialogVisible3 = false}}},[_vm._v(\"取消\")]),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.deleteGood()}}},[_vm._v(\"确认\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"commodity\">\r\n    <div class=\"top\">\r\n      <div class=\"title\">商品管理</div>\r\n      <div class=\"btn\" v-if=\"tableShow\" @click=\"tableShow=false\">添加商品</div>\r\n    </div>\r\n    <div class=\"line\"></div>\r\n    <el-table\r\n        v-if=\"tableShow\"\r\n        :data=\"tableData\"\r\n        class=\"table\">\r\n      <el-table-column\r\n          prop=\"productName\"\r\n          label=\"商品名称\"\r\n          align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"describe\"\r\n          label=\"商品描述\"\r\n          align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"productPrice\"\r\n          label=\"商品价格\"\r\n          align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"商品图片\"\r\n          align=\"center\"\r\n          width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <img :src=scope.row.imageUrl alt=\"\" style=\"width: 200px;height: 150px\">\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"status\"\r\n          label=\"商品状态\"\r\n          align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <span style=\"color: #2DBD66;\">{{ scope.row.status === \"1\"?'上架':'下架' }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"operation\"\r\n          label=\"操作\"\r\n          align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"judgeStatus(scope.row)\" type=\"text\" style=\"color: red;\">{{ scope.row.status === \"1\"?'下架':'上架' }}</el-button>\r\n          <el-button @click=\"judgeDelete(scope.row)\" type=\"text\" style=\"color: red;\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-form ref=\"form\" :model=\"goodForm\" label-width=\"85px\" class=\"goodForm\" v-else>\r\n      <el-form-item label=\"商品名称\">\r\n        <el-input v-model=\"goodForm.productName\" placeholder=\"请输入商品名称\" class=\"input\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品描述\">\r\n        <el-input v-model=\"goodForm.describe\" placeholder=\"请输入商品描述\" class=\"input\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品价格\">\r\n        <el-input v-model=\"goodForm.productPrice\" placeholder=\"请输入商品价格\" class=\"input\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品图片\" style=\"margin-top: 40px;\">\r\n        <div class=\"upload\">\r\n          <el-upload\r\n              class=\"upload-demo\"\r\n              action=\"aaa\"\r\n              name=\"file\"\r\n              ref=\"file\"\r\n              :show-file-list=\"false\"\r\n              :before-upload=\"beforeUpload\">\r\n            <img\r\n                v-if=\"url\"\r\n                :src=\"url\"\r\n                style=\"width: 200px;height: 200px;\"/>\r\n            <i\r\n                v-else\r\n                class=\"el-icon-plus\"\r\n                style=\"width: 100px;height: 100px;margin: 80px 0 0 50px;\"></i>\r\n          </el-upload>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品状态\">\r\n        <el-switch\r\n            v-model=\"goodForm.status\"\r\n            active-color=\"#15BEAC\"\r\n            active-text=\"上架\"\r\n            inactive-text=\"下架\"\r\n            active-value=\"1\"\r\n            inactive-value=\"0\"\r\n            class=\"switch\">\r\n        </el-switch>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <div class=\"btnBox\">\r\n          <div class=\"btn\" @click=\"tableShow=true\">取消</div>\r\n          <div class=\"btn\" @click=\"addGood()\">确认</div>\r\n        </div>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-dialog\r\n        title=\"上架确认\"\r\n        :visible.sync=\"dialogVisible1\"\r\n        width=\"25%\"\r\n        class=\"dialog\"\r\n        :lock-scroll=\"false\"\r\n        top=\"30vh\"\r\n        center>\r\n      <div class=\"tips\">\r\n        上架后用户将可以正常购买本商品，是否确认上架本商品？\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <div class=\"btn\" @click=\"dialogVisible1 = false\">取消</div>\r\n        <div class=\"btn\" @click=\"changeStatus()\">确认</div>\r\n      </div>\r\n    </el-dialog>\r\n    <el-dialog\r\n        title=\"下架确认\"\r\n        :visible.sync=\"dialogVisible2\"\r\n        width=\"25%\"\r\n        class=\"dialog\"\r\n        :lock-scroll=\"false\"\r\n        top=\"30vh\"\r\n        center>\r\n      <div class=\"tips\">\r\n        下架后用户将不能购买本商品，是否确认下架本商品？\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <div class=\"btn\" @click=\"dialogVisible2 = false\">取消</div>\r\n        <div class=\"btn\" @click=\"changeStatus()\">确认</div>\r\n      </div>\r\n    </el-dialog>\r\n    <el-dialog\r\n        title=\"确认删除\"\r\n        :visible.sync=\"dialogVisible3\"\r\n        width=\"25%\"\r\n        class=\"dialog\"\r\n        :lock-scroll=\"false\"\r\n        top=\"30vh\"\r\n        center>\r\n      <div class=\"tips\">\r\n        删除后将无法恢复，是否确认删除本商品？\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <div class=\"btn\" @click=\"dialogVisible3 = false\">取消</div>\r\n        <div class=\"btn\" @click=\"deleteGood()\">确认</div>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"Commodity\",\r\n    data() {\r\n      return {\r\n        dialogVisible1: false,\r\n        dialogVisible2: false,\r\n        dialogVisible3: false,\r\n        tableShow: true,\r\n        tableData: [],\r\n        goodForm: {\r\n          productName: '',\r\n          describe: '',\r\n          productPrice: '',\r\n          picture: '',\r\n          status: 0\r\n        },\r\n        image: '',\r\n        goodsName: '',\r\n        deleteName: '',\r\n        url: ''\r\n      }\r\n    },\r\n    methods: {\r\n      getGood(){\r\n        this.$axios.get('/goods/goods',).then((res) => {\r\n          if(res.status === 200) {\r\n            this.tableData = res.data;\r\n            for(let i=0; i<this.tableData.length; i++) {\r\n              this.tableData[i].imageUrl = \"https://www.acfly.cn/static/images/\" + this.tableData[i].imageUrl;\r\n              this.tableData[i].productPrice = this.tableData[i].productPrice / 100;\r\n            }\r\n          }\r\n          else {\r\n            this.$message.error(res.msg);\r\n          }\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      beforeUpload(file) {\r\n        this.$message.success(\"添加成功！\");\r\n        //上传前把文件丢入picture\r\n        this.image = file.name;\r\n        this.goodForm.picture = file;\r\n        var img = new Image();\r\n        img.src = window.URL.createObjectURL(file);\r\n        this.url = img.src;\r\n        return false;\r\n      },\r\n      addGood() {\r\n        var formData = new FormData();\r\n        //处理表单数据和图片一起提交\r\n        formData.append(\"productName\",this.goodForm.productName);\r\n        formData.append(\"describe\",this.goodForm.describe);\r\n        formData.append(\"productPrice\",this.goodForm.productPrice);\r\n        formData.append(\"status\",this.goodForm.status);\r\n        formData.append(\"file\",this.goodForm.picture);\r\n        this.$axios.put('/goods/goods',formData,{\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        }).then((res) => {\r\n          if(res.status === 200) {\r\n            this.tableShow = true;\r\n            this.getGood();\r\n            this.clearData();\r\n            this.successMsg();\r\n          }\r\n          else {\r\n            this.$message.error(res.msg);\r\n          }\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      judgeDelete(row) {\r\n        this.dialogVisible3 = true;\r\n        this.deleteName = row.productName;\r\n      },\r\n      deleteGood() {\r\n        this.$axios.delete('/goods/goods?goodsName='+this.deleteName).then((res) => {\r\n          if(res.status === 200) {\r\n            this.dialogVisible3 = false;\r\n            this.getGood();\r\n            this.$message.success(res.data);\r\n          }\r\n          else {\r\n            this.$message.error(res.msg);\r\n          }\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        })\r\n\r\n      },\r\n      judgeStatus(row) {\r\n        if(row.status === '1') {\r\n          this.dialogVisible2 = true;\r\n        }else {\r\n          this.dialogVisible1 = true;\r\n        }\r\n        this.goodsName = row.productName;\r\n      },\r\n      changeStatus() {\r\n        this.$axios.post('/goods/goods?goodsName='+this.goodsName).then((res) => {\r\n          if(res.status === 200) {\r\n            if(this.dialogVisible1) {\r\n              this.dialogVisible1 = !this.dialogVisible1;\r\n            }else if(this.dialogVisible2) {\r\n              this.dialogVisible2 = !this.dialogVisible2;\r\n            }\r\n            this.getGood();\r\n            this.$message.success(res.data);\r\n          }\r\n          else {\r\n            this.$message.error(res.msg);\r\n          }\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      successMsg() {\r\n        this.$message.success(\"操作成功！\");\r\n      },\r\n      clearData() {\r\n        this.goodForm.productName = '';\r\n        this.goodForm.describe = '';\r\n        this.goodForm.productPrice = '';\r\n        this.goodForm.picture = '';\r\n        this.goodForm.status = 0;\r\n      }\r\n    },\r\n    beforeMount() {\r\n      this.getGood();\r\n    },\r\n    beforeRouteLeave(to,from,next) {\r\n      this.clearData();\r\n      this.tableShow = true;\r\n      next();\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  @import \"../../assets/style/commodity/commodity\";\r\n</style>\r\n\r\n<!--<style>\r\n  .el-form-item__label {\r\n    margin-top: 15px;\r\n  }\r\n</style>-->\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commodity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commodity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./commodity.vue?vue&type=template&id=0821155c&scoped=true&\"\nimport script from \"./commodity.vue?vue&type=script&lang=js&\"\nexport * from \"./commodity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commodity.vue?vue&type=style&index=0&id=0821155c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0821155c\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commodity.vue?vue&type=style&index=0&id=0821155c&lang=less&scoped=true&\""],"sourceRoot":""}