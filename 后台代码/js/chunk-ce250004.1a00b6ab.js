(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce250004"],{"497e":function(t,o,e){},"74de":function(t,o,e){"use strict";e.r(o);var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"commodity"}},[e("div",{staticClass:"top"},[e("div",{staticClass:"title"},[t._v("商品管理")]),t.tableShow?e("div",{staticClass:"btn",on:{click:function(o){t.tableShow=!1}}},[t._v("添加商品")]):t._e()]),e("div",{staticClass:"line"}),t.tableShow?e("el-table",{staticClass:"table",attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"productName",label:"商品名称",align:"center"}}),e("el-table-column",{attrs:{prop:"describe",label:"商品描述",align:"center"}}),e("el-table-column",{attrs:{prop:"productPrice",label:"商品价格",align:"center"}}),e("el-table-column",{attrs:{label:"商品图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticStyle:{width:"200px",height:"150px"},attrs:{src:t.row.imageUrl,alt:""}})]}}],null,!1,776240359)}),e("el-table-column",{attrs:{prop:"status",label:"商品状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("span",{staticStyle:{color:"#2DBD66"}},[t._v(t._s("1"===o.row.status?"上架":"下架"))])]}}],null,!1,1856673527)}),e("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(e){return t.judgeStatus(o.row)}}},[t._v(t._s("1"===o.row.status?"下架":"上架"))]),e("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(e){return t.judgeDelete(o.row)}}},[t._v("删除")])]}}],null,!1,1170439084)})],1):e("el-form",{ref:"form",staticClass:"goodForm",attrs:{model:t.goodForm,"label-width":"85px"}},[e("el-form-item",{attrs:{label:"商品名称"}},[e("el-input",{staticClass:"input",attrs:{placeholder:"请输入商品名称"},model:{value:t.goodForm.productName,callback:function(o){t.$set(t.goodForm,"productName",o)},expression:"goodForm.productName"}})],1),e("el-form-item",{attrs:{label:"商品描述"}},[e("el-input",{staticClass:"input",attrs:{placeholder:"请输入商品描述"},model:{value:t.goodForm.describe,callback:function(o){t.$set(t.goodForm,"describe",o)},expression:"goodForm.describe"}})],1),e("el-form-item",{attrs:{label:"商品价格"}},[e("el-input",{staticClass:"input",attrs:{placeholder:"请输入商品价格"},model:{value:t.goodForm.productPrice,callback:function(o){t.$set(t.goodForm,"productPrice",o)},expression:"goodForm.productPrice"}})],1),e("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:"商品图片"}},[e("div",{staticClass:"upload"},[e("el-upload",{ref:"file",staticClass:"upload-demo",attrs:{action:"aaa",name:"file","show-file-list":!1,"before-upload":t.beforeUpload}},[t.goodForm.picture?e("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.goodForm.picture}}):e("i",{staticClass:"el-icon-plus",staticStyle:{width:"50px",height:"50px",margin:"40px 0 0 25px"}})])],1)]),e("el-form-item",{attrs:{label:"商品状态"}},[e("el-switch",{staticClass:"switch",attrs:{"active-color":"#15BEAC","active-text":"上架","inactive-text":"下架","active-value":"1","inactive-value":"0"},model:{value:t.goodForm.status,callback:function(o){t.$set(t.goodForm,"status",o)},expression:"goodForm.status"}})],1),e("el-form-item",[e("div",{staticClass:"btnBox"},[e("div",{staticClass:"btn",on:{click:function(o){t.tableShow=!0}}},[t._v("取消")]),e("div",{staticClass:"btn",on:{click:function(o){return t.addGood()}}},[t._v("确认")])])])],1),e("el-dialog",{staticClass:"dialog",attrs:{title:"上架确认",visible:t.dialogVisible1,width:"25%","lock-scroll":!1,top:"30vh",center:""},on:{"update:visible":function(o){t.dialogVisible1=o}}},[e("div",{staticClass:"tips"},[t._v(" 上架后用户将可以正常购买本商品，是否确认上架本商品？ ")]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"btn",on:{click:function(o){t.dialogVisible1=!1}}},[t._v("取消")]),e("div",{staticClass:"btn",on:{click:function(o){return t.changeStatus()}}},[t._v("确认")])])]),e("el-dialog",{staticClass:"dialog",attrs:{title:"下架确认",visible:t.dialogVisible2,width:"25%","lock-scroll":!1,top:"30vh",center:""},on:{"update:visible":function(o){t.dialogVisible2=o}}},[e("div",{staticClass:"tips"},[t._v(" 下架后用户将不能购买本商品，是否确认下架本商品？ ")]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"btn",on:{click:function(o){t.dialogVisible2=!1}}},[t._v("取消")]),e("div",{staticClass:"btn",on:{click:function(o){return t.changeStatus()}}},[t._v("确认")])])]),e("el-dialog",{staticClass:"dialog",attrs:{title:"确认删除",visible:t.dialogVisible3,width:"25%","lock-scroll":!1,top:"30vh",center:""},on:{"update:visible":function(o){t.dialogVisible3=o}}},[e("div",{staticClass:"tips"},[t._v(" 删除后将无法恢复，是否确认删除本商品？ ")]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"btn",on:{click:function(o){t.dialogVisible3=!1}}},[t._v("取消")]),e("div",{staticClass:"btn",on:{click:function(o){return t.deleteGood()}}},[t._v("确认")])])])],1)},i=[],a=(e("b0c0"),{name:"Commodity",data:function(){return{dialogVisible1:!1,dialogVisible2:!1,dialogVisible3:!1,tableShow:!0,tableData:[],goodForm:{productName:"",describe:"",productPrice:"",picture:"",status:0},image:"",goodsName:"",deleteName:""}},methods:{getGood:function(){var t=this;this.$axios.get("/goods/goods").then((function(o){if(200===o.status){t.tableData=o.data;for(var e=0;e<t.tableData.length;e++)t.tableData[e].imageUrl="http://borui.cn.utools.club/static/images/"+t.tableData[e].imageUrl}else t.$message.error(o.msg)})).catch((function(t){console.log(t)}))},beforeUpload:function(t){return this.$message.success("添加成功！"),this.image=t.name,this.goodForm.picture=t,!1},addGood:function(){var t=this,o=new FormData;o.append("productName",this.goodForm.productName),o.append("describe",this.goodForm.describe),o.append("productPrice",this.goodForm.productPrice),o.append("status",this.goodForm.status),o.append("file",this.goodForm.picture),this.$axios.put("/goods/goods",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(o){200===o.status?(t.tableShow=!0,t.getGood(),t.clearData(),t.successMsg()):t.$message.error(o.msg)})).catch((function(t){console.log(t)}))},judgeDelete:function(t){this.dialogVisible3=!0,this.deleteName=t.productName},deleteGood:function(){var t=this;this.$axios.delete("/goods/goods?goodsName="+this.deleteName).then((function(o){200===o.status?(t.dialogVisible3=!1,t.getGood(),t.$message.success(o.data)):t.$message.error(o.msg)})).catch((function(t){console.log(t)}))},judgeStatus:function(t){"1"===t.status?this.dialogVisible2=!0:this.dialogVisible1=!0,this.goodsName=t.productName},changeStatus:function(){var t=this;this.$axios.post("/goods/goods?goodsName="+this.goodsName).then((function(o){200===o.status?(t.dialogVisible1?t.dialogVisible1=!t.dialogVisible1:t.dialogVisible2&&(t.dialogVisible2=!t.dialogVisible2),t.getGood(),t.$message.success(o.data)):t.$message.error(o.msg)})).catch((function(t){console.log(t)}))},successMsg:function(){this.$message.success("操作成功！")},clearData:function(){this.goodForm.productName="",this.goodForm.describe="",this.goodForm.productPrice="",this.goodForm.picture="",this.goodForm.status=0}},beforeMount:function(){this.getGood()},beforeRouteLeave:function(t,o,e){this.clearData(),this.tableShow=!0,e()}}),l=a,c=(e("bdd0"),e("2877")),r=Object(c["a"])(l,s,i,!1,null,"6f456705",null);o["default"]=r.exports},b0c0:function(t,o,e){var s=e("83ab"),i=e("9bf2").f,a=Function.prototype,l=a.toString,c=/^\s*function ([^ (]*)/,r="name";s&&!(r in a)&&i(a,r,{configurable:!0,get:function(){try{return l.call(this).match(c)[1]}catch(t){return""}}})},bdd0:function(t,o,e){"use strict";e("497e")}}]);
//# sourceMappingURL=chunk-ce250004.1a00b6ab.js.map