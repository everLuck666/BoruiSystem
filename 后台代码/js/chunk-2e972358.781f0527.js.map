{"version":3,"sources":["webpack:///./src/views/customer/customer.vue?8f1a","webpack:///./src/assets/images/index/icon_sent.png","webpack:///./src/views/customer/customer.vue?bfeb","webpack:///./src/views/customer/customer.vue?5ec4","webpack:///src/views/customer/customer.vue","webpack:///./src/views/customer/customer.vue?b7c6","webpack:///./src/views/customer/customer.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","on","$event","exportCustomer","staticStyle","tableData","scopedSlots","_u","key","fn","scope","directives","name","rawName","value","row","subscribeStatus","expression","getDelId","getOrderPage","paging","prePage","nextPage","_s","page","pageNum","model","msg","callback","$$v","$set","sendSms","recordData","dialogVisible","slot","deleteCustomer","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2e972358.781f0527.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customer.vue?vue&type=style&index=0&id=ff16669c&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/icon_sent.cfb39823.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customer.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"customer\"}},[_c('div',{staticClass:\"title\"},[_vm._v(\"客户管理\")]),_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"客户信息管理\")]),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.exportCustomer()}}},[_vm._v(\"导出\")])]),_c('el-table',{staticClass:\"table\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"30px\"},attrs:{\"data\":_vm.tableData,\"height\":\"400\"}},[_c('el-table-column',{attrs:{\"label\":\"订阅\",\"align\":\"center\",\"mid-width\":\"5%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.subscribeStatus === 'true'),expression:\"scope.row.subscribeStatus === 'true'\"}],staticStyle:{\"color\":\"red\"}},[_vm._v(\"是\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.subscribeStatus === 'false'),expression:\"scope.row.subscribeStatus === 'false'\"}],staticStyle:{\"color\":\"gray\"}},[_vm._v(\"否\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"客户姓名\",\"align\":\"center\",\"mid-width\":\"10%\"}}),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"联系方式\",\"align\":\"center\",\"mid-width\":\"10%\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\",\"align\":\"center\",\"mid-width\":\"15%\"}}),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"收货地址\",\"align\":\"center\",\"mid-width\":\"25%\"}}),_c('el-table-column',{attrs:{\"prop\":\"productName\",\"label\":\"购买商品\",\"align\":\"center\",\"mid-width\":\"20%\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"mid-width\":\"5%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"color\":\"red\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.getDelId(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"paging\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.getOrderPage(1)}}},[_vm._v(\"首页\")]),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.getOrderPage(_vm.paging.prePage)}}},[_vm._v(\"上一页\")]),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.getOrderPage(_vm.paging.nextPage)}}},[_vm._v(\"下一页\")]),_c('div',{staticClass:\"word\"},[_vm._v(\"第\"+_vm._s(_vm.paging.page)+\"页\")]),_c('div',{staticClass:\"word\"},[_vm._v(\"共\"+_vm._s(_vm.paging.pageNum)+\"页\")])]),_c('div',{staticClass:\"msg\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"客户通知管理\")]),_c('div',{staticClass:\"title\",staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\"编辑短信\")]),_c('div',{staticClass:\"content\"},[_c('el-input',{staticClass:\"textarea\",attrs:{\"type\":\"textarea\",\"rows\":6,\"placeholder\":\"请输入短信内容\"},model:{value:(_vm.msg.textarea),callback:function ($$v) {_vm.$set(_vm.msg, \"textarea\", $$v)},expression:\"msg.textarea\"}}),_c('div',{staticClass:\"checkBox\"},[_c('el-radio-group',{staticStyle:{\"zoom\":\"120%\"},model:{value:(_vm.msg.customer),callback:function ($$v) {_vm.$set(_vm.msg, \"customer\", $$v)},expression:\"msg.customer\"}},[_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"订阅客户\")]),_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"全部客户\")])],1)],1),_c('div',{staticClass:\"sentBtn\",on:{\"click\":function($event){return _vm.sendSms()}}},[_c('img',{attrs:{\"src\":require(\"../../assets/images/index/icon_sent.png\"),\"alt\":\"\"}}),_c('p',{staticClass:\"sent\"},[_vm._v(\"立即发送\")])])],1)]),_c('div',{staticClass:\"line\"}),_c('div',{staticClass:\"record\"},[_c('div',{staticClass:\"title\",staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\"通知记录\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.recordData,\"height\":\"600\"}},[_c('el-table-column',{attrs:{\"prop\":\"userType\",\"label\":\"客户类型\",\"align\":\"center\",\"mid-width\":\"10%\"}}),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"发送时间\",\"align\":\"center\",\"mid-width\":\"10%\"}}),_c('el-table-column',{attrs:{\"prop\":\"managerName\",\"label\":\"管理员\",\"align\":\"center\",\"mid-width\":\"10%\"}}),_c('el-table-column',{attrs:{\"prop\":\"information\",\"label\":\"通知内容\",\"align\":\"center\",\"mid-width\":\"70%\"}})],1)],1),_c('div',{staticClass:\"line\"}),_c('el-dialog',{staticClass:\"dialog\",attrs:{\"title\":\"确认删除\",\"visible\":_vm.dialogVisible,\"width\":\"25%\",\"lock-scroll\":false,\"top\":\"30vh\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"tips\"},[_vm._v(\" 删除后无法恢复，是否删除该客户信息？ \")]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取消\")]),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.deleteCustomer()}}},[_vm._v(\"确认\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"customer\">\r\n    <div class=\"title\">客户管理</div>\r\n    <div class=\"top\">\r\n      <div class=\"left\">客户信息管理</div>\r\n      <div class=\"btn\" @click=\"exportCustomer()\">导出</div>\r\n    </div>\r\n    <el-table\r\n        :data=\"tableData\"\r\n        class=\"table\"\r\n        height=\"400\"\r\n        style=\"width: 100%;margin-top: 30px;\">\r\n      <el-table-column\r\n          label=\"订阅\"\r\n          align=\"center\"\r\n          mid-width=\"5%\">\r\n        <template slot-scope=\"scope\">\r\n          <span style=\"color: red;\" v-show=\"scope.row.subscribeStatus === 'true'\">是</span>\r\n          <span style=\"color: gray;\" v-show=\"scope.row.subscribeStatus === 'false'\">否</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"userName\"\r\n          label=\"客户姓名\"\r\n          align=\"center\"\r\n          mid-width=\"10%\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"phone\"\r\n          label=\"联系方式\"\r\n          align=\"center\"\r\n          mid-width=\"10%\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"email\"\r\n          label=\"邮箱\"\r\n          align=\"center\"\r\n          mid-width=\"15%\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"address\"\r\n          label=\"收货地址\"\r\n          align=\"center\"\r\n          mid-width=\"25%\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"productName\"\r\n          label=\"购买商品\"\r\n          align=\"center\"\r\n          mid-width=\"20%\">\r\n        <!--<template slot-scope=\"scope\">\r\n          {{ productName+' * '+orderAmout }}\r\n        </template>-->\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"操作\"\r\n          align=\"center\"\r\n          mid-width=\"5%\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"getDelId(scope.row)\" type=\"text\" style=\"color: red;\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"paging\">\r\n      <div class=\"btn\" @click=\"getOrderPage(1)\">首页</div>\r\n      <div class=\"btn\" @click=\"getOrderPage(paging.prePage)\">上一页</div>\r\n      <div class=\"btn\" @click=\"getOrderPage(paging.nextPage)\">下一页</div>\r\n      <div class=\"word\">第{{ paging.page }}页</div>\r\n      <div class=\"word\">共{{ paging.pageNum }}页</div>\r\n    </div>\r\n    <div class=\"msg\">\r\n      <div class=\"title\">客户通知管理</div>\r\n      <div class=\"title\" style=\"font-size: 18px;\">编辑短信</div>\r\n      <div class=\"content\">\r\n        <el-input\r\n            type=\"textarea\"\r\n            :rows=\"6\"\r\n            placeholder=\"请输入短信内容\"\r\n            v-model=\"msg.textarea\"\r\n            class=\"textarea\">\r\n        </el-input>\r\n        <div class=\"checkBox\">\r\n          <el-radio-group v-model=\"msg.customer\" style=\"zoom:120%;\">\r\n            <el-radio label=\"0\">订阅客户</el-radio>\r\n            <el-radio label=\"1\">全部客户</el-radio>\r\n          </el-radio-group>\r\n        </div>\r\n        <div class=\"sentBtn\" @click=\"sendSms()\">\r\n          <img src=\"../../assets/images/index/icon_sent.png\" alt=\"\">\r\n          <p class=\"sent\">立即发送</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"line\"></div>\r\n    <div class=\"record\">\r\n      <div class=\"title\" style=\"font-size: 18px;\">通知记录</div>\r\n      <el-table\r\n          :data=\"recordData\"\r\n          height=\"600\"\r\n          style=\"width: 100%;\">\r\n        <el-table-column\r\n            prop=\"userType\"\r\n            label=\"客户类型\"\r\n            align=\"center\"\r\n            mid-width=\"10%\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"time\"\r\n            label=\"发送时间\"\r\n            align=\"center\"\r\n            mid-width=\"10%\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"managerName\"\r\n            label=\"管理员\"\r\n            align=\"center\"\r\n            mid-width=\"10%\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"information\"\r\n            label=\"通知内容\"\r\n            align=\"center\"\r\n            mid-width=\"70%\">\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <div class=\"line\"></div>\r\n    <el-dialog\r\n        title=\"确认删除\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"25%\"\r\n        class=\"dialog\"\r\n        :lock-scroll=\"false\"\r\n        top=\"30vh\"\r\n        center>\r\n      <div class=\"tips\">\r\n        删除后无法恢复，是否删除该客户信息？\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <div class=\"btn\" @click=\"dialogVisible = false\">取消</div>\r\n        <div class=\"btn\" @click=\"deleteCustomer()\">确认</div>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"Customer\",\r\n    data() {\r\n      return {\r\n        dialogVisible: false,\r\n        tableData: [],\r\n        recordData:[],\r\n        paging: {\r\n          page: 1,\r\n          pageSize: 6,\r\n          pageNum: '',  //总页数\r\n          hasNextPage: '',\r\n          hasPreviousPage: '',  //是否有前一页后一页\r\n          isFirstPage: '',\r\n          isLastPage: '',  //是不是首页和尾页\r\n          nextPage: '',\r\n          prePage: ''  //前一页和后一页的页码\r\n        },\r\n        msg: {\r\n          textarea: '',\r\n          customer: ''\r\n        },\r\n        delUserId: ''\r\n      }\r\n    },\r\n    methods: {\r\n      getCustomer() {\r\n        this.$axios.get('/users/clients',{\r\n          params: {\r\n            page: this.paging.page,\r\n            pageSize: this.paging.pageSize\r\n          }\r\n        }).then((res) => {\r\n          let data = res.data;\r\n          if(res.status === 200) {\r\n            this.tableData = data.list;\r\n            this.paging.pageNum = data.pages;\r\n            this.paging.hasPreviousPage = data.hasPreviousPage;\r\n            this.paging.hasNextPage = data.hasNextPage;\r\n            this.paging.isFirstPage = data.isFirstPage;\r\n            this.paging.isLastPage = data.isLastPage;\r\n            this.paging.prePage = data.prePage;\r\n            this.paging.nextPage = data.nextPage;\r\n          } else {\r\n            this.$message.error(res.msg);\r\n          }\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      getOrderPage(page) {\r\n        if(page === 0 && this.paging.isFirstPage) {\r\n          this.$message.warning('这是已经是首页了');\r\n        } else if(page === 0 && this.paging.isLastPage) {\r\n          this.$message.warning('这是已经是尾页了');\r\n        } else if(this.paging.hasPreviousPage || this.paging.hasNextPage || page === 1) {\r\n          this.$axios.get('/orders/orders',{\r\n            params: {\r\n              page: page,\r\n              pageSize: this.paging.pageSize,\r\n            }\r\n          }).then((res) => {\r\n            let data = res.data;\r\n            if(res.status === 200) {\r\n              this.tableData = data.list;\r\n              this.paging.page = page;\r\n              this.paging.pageNum = data.pages;\r\n              this.paging.hasPreviousPage = data.hasPreviousPage;\r\n              this.paging.hasNextPage = data.hasNextPage;\r\n              this.paging.isFirstPage = data.isFirstPage;\r\n              this.paging.isLastPage = data.isLastPage;\r\n              this.paging.prePage = data.prePage;\r\n              this.paging.nextPage = data.nextPage;\r\n            }\r\n            else {\r\n              this.$message.error(res.msg);\r\n            }\r\n          }).catch((err) => {\r\n            console.log(err);\r\n          })\r\n        }\r\n      },\r\n      getRecord() {\r\n        this.$axios.get('/sms/information',).then((res) => {\r\n          if(res.status === 200) {\r\n            this.recordData = res.data;\r\n          }\r\n          else {\r\n            this.$message.error(res.msg);\r\n          }\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      getDelId(row) {\r\n        this.delUserId = row.userId;\r\n        this.dialogVisible = true;\r\n      },\r\n      deleteCustomer() {\r\n        this.$axios.delete('/users/clients?userId=' + this.delUserId,{\r\n          data: {\r\n            userId: this.delUserId\r\n          }\r\n        }).then((res) => {\r\n          if(res.status === 200) {\r\n            this.dialogVisible = false;\r\n            this.$message.success(res.data);\r\n            this.getCustomer();\r\n          }\r\n          else {\r\n            this.$message.error(res.msg);\r\n          }\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      exportCustomer() {\r\n        let url = 'http://acfly.cn:8888/users/exportClients';\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.open(\"get\", url, true);\r\n        xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n        xhr.send();\r\n        xhr.responseType = \"blob\";\r\n        xhr.onload = function () {\r\n          if (this.status === 200) {\r\n            var blob = this.response;\r\n            let href = window.URL.createObjectURL(blob);\r\n            let link = document.createElement(\"a\");\r\n            link.href = href;\r\n            link.download = \"客户记录表\";\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n            window.URL.revokeObjectURL(href);\r\n          }\r\n          else {\r\n            alert(\"出现了未知的错误!\");\r\n          }\r\n        }\r\n      },\r\n      sendSms() {\r\n        let token = localStorage.getItem(\"token\");\r\n        if(this.msg.customer) {\r\n          this.msg.customer = ''\r\n        }\r\n        this.$axios.post('/sms/sms',{\r\n          message: this.msg.textarea,\r\n          identity: this.msg.customer,\r\n          token: token\r\n        }).then((res) => {\r\n          if(res.status === 200) {\r\n            this.$message.success(res.data);\r\n            this.msg.textarea = '';\r\n            this.msg.customer = '';\r\n            this.getRecord();\r\n          }\r\n          else {\r\n            this.$message.error(res.msg);\r\n          }\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      successMsg() {\r\n        this.$message.success(\"操作成功！\");\r\n      }\r\n    },\r\n    beforeMount() {\r\n        this.getCustomer();\r\n        this.getRecord();\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  @import \"../../assets/style/customer/customer\";\r\n</style>\r\n\r\n<style>\r\n/*  .el-checkbox__inner {\r\n    width: 20px;\r\n    height: 20px;\r\n    border: 2px solid #000;\r\n  }\r\n  .el-checkbox__label {\r\n    font-size: 18px;\r\n    line-height: 18px;\r\n    position: relative;\r\n    top: 1px;\r\n  }*/\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./customer.vue?vue&type=template&id=ff16669c&scoped=true&\"\nimport script from \"./customer.vue?vue&type=script&lang=js&\"\nexport * from \"./customer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./customer.vue?vue&type=style&index=0&id=ff16669c&lang=less&scoped=true&\"\nimport style1 from \"./customer.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ff16669c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}