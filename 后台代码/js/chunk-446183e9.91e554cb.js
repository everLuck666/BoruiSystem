(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-446183e9"],{"058b":function(t,s,e){"use strict";e("1911")},"18d4":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"system"}},[e("div",{staticClass:"title"},[t._v("系统设置")]),t.systemShow?e("div",{staticClass:"content"},[e("div",{staticClass:"top"},[e("div",{staticClass:"left"},[t._v("管理员设置")]),e("div",{staticClass:"right",on:{click:function(s){t.systemShow=!1}}},[t._v("添加管理员")])]),e("div",{staticClass:"line"}),e("el-table",{staticClass:"table",attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"userName",label:"姓名",align:"center","mid-width":"20%"}}),e("el-table-column",{attrs:{prop:"userId",label:"账号",align:"center","mid-width":"20%"}}),e("el-table-column",{attrs:{prop:"password",label:"密码",align:"center","mid-width":"20%"}}),e("el-table-column",{attrs:{label:"管理员类型",align:"center","mid-width":"20%"},scopedSlots:t._u([{key:"default",fn:function(s){return[t._v(" "+t._s(s.row.identity?"超级管理员":"未知")+" ")]}}],null,!1,1221555868)}),e("el-table-column",{attrs:{label:"操作",align:"center","mid-width":"20%"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(e){return t.deleteUser(s.row)}}},[t._v("删除")])]}}],null,!1,1881998454)})],1)],1):e("div",{staticClass:"add"},[t._m(0),e("el-form",{ref:"form",staticClass:"form",attrs:{model:t.userForm,"label-width":"60px"}},[e("el-form-item",{attrs:{label:"姓名"}},[e("el-input",{staticClass:"input",attrs:{placeholder:"请输入管理员姓名"},model:{value:t.userForm.userName,callback:function(s){t.$set(t.userForm,"userName",s)},expression:"userForm.userName"}})],1),e("el-form-item",{attrs:{label:"账号"}},[e("el-input",{staticClass:"input",attrs:{placeholder:"请输入管理员账号"},model:{value:t.userForm.userId,callback:function(s){t.$set(t.userForm,"userId",s)},expression:"userForm.userId"}})],1),e("el-form-item",{attrs:{label:"密码"}},[e("el-input",{staticClass:"input",attrs:{placeholder:"请输入管理员密码"},model:{value:t.userForm.password,callback:function(s){t.$set(t.userForm,"password",s)},expression:"userForm.password"}})],1)],1),e("div",{staticClass:"btnBox"},[e("div",{staticClass:"btn",on:{click:function(s){t.systemShow=!0}}},[t._v("取消")]),e("div",{staticClass:"btn",on:{click:function(s){return t.checkUser()}}},[t._v("确认")])])],1),e("el-dialog",{staticClass:"dialog",attrs:{title:"确认删除管理员",visible:t.dialogVisible1,width:"25%","lock-scroll":!1,top:"30vh",center:""},on:{"update:visible":function(s){t.dialogVisible1=s}}},[e("div",{staticClass:"tips"},[t._v(" 删除后该账号将无法登陆，是否删除？ ")]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"btn",on:{click:function(s){t.dialogVisible1=!1}}},[t._v("取消")]),e("div",{staticClass:"btn",on:{click:function(s){t.dialogVisible1=!1}}},[t._v("确认")])])]),e("el-dialog",{staticClass:"dialog",attrs:{title:"确认添加管理员",visible:t.dialogVisible2,width:"25%","lock-scroll":!1,top:"30vh",center:""},on:{"update:visible":function(s){t.dialogVisible2=s}}},[e("div",{staticClass:"tips"},[t._v(" 添加管理员后该账号将可登陆并对网站后台进行操作，是否确认添加？ ")]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"btn",on:{click:function(s){t.dialogVisible2=!1}}},[t._v("取消")]),e("div",{staticClass:"btn",on:{click:function(s){return t.addUser()}}},[t._v("确认")])])])],1)},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"top"},[e("div",{staticClass:"left"},[t._v("管理员信息")])])}],l={name:"System",data:function(){return{systemShow:!0,dialogVisible1:!1,dialogVisible2:!1,tableData:[],userForm:{userName:"",userId:"",password:""}}},methods:{getUser:function(){var t=this;this.$axios.get("/user/user").then((function(s){200===s.status?t.tableData=s.data:t.$message.error(s.msg)})).catch((function(t){console.log(t)}))},addUser:function(){var t=this,s=this.userForm;this.$axios.put("/user/user",{userName:s.userName,userId:s.userId,password:s.password}).then((function(s){200===s.status?(t.getUser(),t.dialogVisible2=!1,t.systemShow=!0,t.successMsg()):(t.dialogVisible2=!1,t.$message.error(s.msg))})).catch((function(t){console.log(t)}))},deleteUser:function(t){var s=this;this.$axios.delete("/user/user",{data:{userId:t.userId}}).then((function(t){200===t.status?(s.dialogVisible1=!0,s.successMsg(),s.getUser()):s.$message.error(t.msg)})).catch((function(t){console.log(t)}))},checkUser:function(){this.dialogVisible2=!0},successMsg:function(){this.$message.success("操作成功！")},clearForm:function(){this.userForm.userName="",this.userForm.userId="",this.userForm.password=""}},beforeMount:function(){this.getUser()},beforeRouteLeave:function(t,s,e){this.clearForm(),this.systemShow=!0,e()}},o=l,r=(e("058b"),e("2877")),n=Object(r["a"])(o,i,a,!1,null,"68fa852d",null);s["default"]=n.exports},1911:function(t,s,e){}}]);
//# sourceMappingURL=chunk-446183e9.91e554cb.js.map